{"version":3,"sources":["constants/constant.js","components/game-field/Cell.js","redux/reducers/isWin.js","redux/reducers/whereClick.js","redux/reducers/firstPlayerReducer.js","redux/reducers/secondPlayerReducer.js","components/game-field/GameField.js","components/score/Score.js","GameWrapper.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["STEP_FIRST_PLAYER","ADD_FIRST_NAME","STEP_SECOND_PLAYER","ADD_SECOND_NAME","FIRST_PLAYER","Cell","x","y","player","nextStep","useState","owner","setOwner","className","onClick","isWin","key","length","name","score","parseInt","console","log","steps","topX","middleX","bottomX","leftY","middleY","rightY","leftDiagonal","rightDiagonal","win","whereClick","state","push","localStorage","getItem","defaultState","GameField","setPlayer","setSteps","dispatch","useDispatch","firstPlayer","useSelector","secondPlayer","window","location","reload","setItem","nexStep","currentPlayer","type","payload","secondPlayerStepAction","alert","useEffect","firstName","prompt","secondName","addSecondNameAction","map","_","Score","reset","setReset","GameWrapper","clear","rootReducer","combineReducers","action","updatedState","newState","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"qLAEaA,EAAoB,oBACpBC,EAAiB,iBAGjBC,EAAqB,qBACrBC,EAAkB,kBAKlBC,EAAe,c,OCiBbC,EA1BF,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,EAAEC,EAA2B,EAA3BA,EAAGC,EAAwB,EAAxBA,OAASC,EAAe,EAAfA,SACzB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAOA,OAAID,EAOA,qBAAKE,UAAU,OAAf,SACKF,IAAUP,EAAe,sBAAKS,UAAU,QAAf,UACtB,sBAAMA,UAAU,gBAChB,sBAAMA,UAAU,oBACX,qBAAKA,UAAU,OAAf,SACL,sBAAMA,UAAU,mBAVpB,qBAAKC,QAPO,WAChBF,EAASJ,GACTC,EAASH,EAAEC,EAAEC,IAKkBK,UAAU,U,cCbpCE,EAAQ,SAACP,GAClB,IAAK,IAAIQ,KAAOR,EACZ,GAA2B,IAAvBA,EAAOQ,GAAKC,QAAgBD,IAAQR,EAAOU,MAAQF,IAAQR,EAAOW,MAGlE,OAFAX,EAAOW,MAAQC,SAASZ,EAAOW,OAAQ,EACvCE,QAAQC,IAAId,EAAOe,OACZ,CACHL,KAAMV,EAAOU,KACbC,MAAOX,EAAOW,MACdK,KAAM,GACNC,QAAS,GACTC,QAAS,GACTC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,aAAc,GACdC,cAAe,GACfC,IAAKhB,GAIjB,OAAOR,GCpBEyB,EAAa,SAAC3B,EAAGC,EAAG2B,GA4B7B,OA1BU,IAAN5B,GACA4B,EAAMV,KAAKW,KAAK7B,GAEV,IAANA,GACA4B,EAAMT,QAAQU,KAAK7B,GAEb,IAANA,GACA4B,EAAMR,QAAQS,KAAK7B,GAGb,IAANC,GACA2B,EAAMP,MAAMQ,KAAK5B,GAEX,IAANA,GACA2B,EAAMN,QAAQO,KAAK5B,GAEb,IAANA,GACA2B,EAAML,OAAOM,KAAK5B,IAEX,IAAND,GAAiB,IAANC,GAAmB,IAAND,GAAiB,IAANC,GAAmB,IAAND,GAAiB,IAANC,IAC5D2B,EAAMJ,aAAaK,KAAK,MAGjB,IAAN7B,GAAiB,IAANC,GAAmB,IAAND,GAAiB,IAANC,GAAmB,IAAND,GAAiB,IAANC,IAC5D2B,EAAMH,cAAcI,KAAK,KAEtBD,GCxBLf,EAAQiB,aAAaC,QAAQ,oBAE7BC,EAAe,CACjBpB,KAFSkB,aAAaC,QAAQ,oBAEhB,IACdlB,MAAOA,GAAS,EAChBK,KAAM,GACNC,QAAS,GACTC,QAAS,GACTC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,aAAc,GACdC,cAAe,GACfR,MAAM,GCbJJ,EAAQiB,aAAaC,QAAQ,qBAE7BC,EAAe,CACjBpB,KAFSkB,aAAaC,QAAQ,qBAEhB,IACdlB,MAAOA,GAAS,EAChBK,KAAM,GACNC,QAAS,GACTC,QAAS,GACTC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,aAAc,GACdC,cAAe,IC4DJQ,EArEG,WACd,MAA4B7B,mBAASN,GAArC,mBAAOI,EAAP,KAAegC,EAAf,KACA,EAA0B9B,mBAAS,GAAnC,mBAAOa,EAAP,KAAckB,EAAd,KACMC,EAAWC,cAQXC,EAAcC,aAAY,SAAAX,GAAK,OAAIA,EAAMU,eACzCE,EAAeD,aAAY,SAAAX,GAAK,OAAIA,EAAMY,iBAE5CF,EAAYZ,KAAOc,EAAad,OAChCe,OAAOC,SAASC,SAChBb,aAAac,QAAQ,mBAAoBN,EAAYzB,OACrDiB,aAAac,QAAQ,oBAAqBJ,EAAa3B,QAI3D,IAAMgC,EAAU,SAAC7C,EAAGC,EAAG6C,GACfA,IAAkBhD,GAClBsC,EFMuC,CAACW,KAAMrD,EAAmBsD,QENlC,CAAChD,IAAGC,OACnCiC,ENlBiB,kBMoBjBE,EDC0B,SAACY,GAAD,MAAc,CAACD,KAAMnD,EAAoBoD,WCD1DC,CAAuB,CAACjD,IAAGC,OACpCiC,EAAUpC,IAEdqC,EAASlB,EAAM,IAsBnB,OAnBa,IAAVA,GAAgBqB,EAAYZ,KAAQc,EAAad,MAChDe,OAAOC,SAASC,SAChBO,MAAM,oCAIVC,qBAAU,WAEN,IADarB,aAAaC,QAAQ,oBACzB,CACL,IAAMqB,EAAYC,OAAO,kJACnBC,EAAaD,OAAO,kJAC1BvB,aAAac,QAAQ,kBAAkBQ,GACvCtB,aAAac,QAAQ,mBAAmBU,GACxClB,EFfoC,CAACW,KAAMpD,EAAgBqD,QEe/B,CAACpC,KAAMwC,GAAa,OAChDhB,EDlBuB,SAACY,GAAD,MAAc,CAACD,KAAMlD,EAAiBmD,WCkBpDO,CAAoB,CAAC3C,KAAM0C,GAAc,UAEvD,CAAClB,IAIA,mCACI,sBAAK7B,UAAU,aAAf,UAjDU,CACd,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KA+CUiD,KAAI,SAACC,EAAGzD,GACf,OAAOyD,EAAED,KAAI,SAACC,EAAGxD,GACb,OAAO,cAAC,EAAD,CAAuBC,OAAQA,EAAQC,SAAU0C,EAAS7C,EAAGA,EAAGC,EAAGA,GAAxDD,EAAI,GAAKC,SAGnC,sBAAMM,UAAU,eAChB,sBAAMA,UAAU,gBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,kBAChB,sBAAMA,UAAS,cAAS+B,EAAYZ,IAArB,YAA4Bc,EAAad,aCzCzDgC,EA1BD,WACV,MAA0BtD,oBAAS,GAAnC,mBAAOuD,EAAP,KAAcC,EAAd,KACMtB,EAAcC,aAAY,SAAAX,GAAK,OAAGA,EAAMU,eACxCE,EAAeD,aAAY,SAAAX,GAAK,OAAGA,EAAMY,gBAU/C,OACI,sBAAKjC,UAAU,QAAf,UACI,oBAAIC,QAVO,WAEXoD,GADDD,IAS0BpD,UAAU,eAAnC,mBACA,qBAAKA,UAAU,eAAf,SACI,qBAAIA,UAAU,sBAAd,UAAqC+B,EAAY1B,KAAjD,KAAyD0B,EAAYzB,WAEzE,qBAAKN,UAAU,gBAAf,SACI,qBAAIA,UAAU,uBAAd,UAAsCiC,EAAa5B,KAAnD,KAA2D4B,EAAa3B,eCHzEgD,EAhBK,WAKhB,OACI,qCACI,wBAAQrD,QANG,WACfiC,OAAOC,SAASC,SAChBb,aAAagC,SAIT,yBACA,sBAAKvD,UAAU,YAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,W,OCLDwD,EALKC,0BAAgB,CAChC1B,YLe8B,WAAmC,IAAlCV,EAAiC,uDAAzBI,EAAciC,EAAW,uCAChE,OAAQA,EAAOlB,MACX,KAAKrD,EACDkC,EAAMX,MAAQW,EAAMX,MAAQ,EAC5B,IAAMjB,EAAIiE,EAAOjB,QAAQhD,EACnBC,EAAIgE,EAAOjB,QAAQ/C,EACnBiE,EAAevC,EAAW3B,EAAGC,EAAG2B,GAChCuC,EAAW1D,EAAMyD,GACvB,OAAOC,EACX,KAAKxE,EACD,OAAO,2BAAIiC,GAAX,IAAkBhB,KAAMqD,EAAOjB,QAAQpC,OAC3C,QACI,OAAOgB,IK1BfY,aJa+B,WAAmC,IAAlCZ,EAAiC,uDAAzBI,EAAciC,EAAW,uCACjE,OAAQA,EAAOlB,MACX,KAAKnD,EACD,IAAMI,EAAIiE,EAAOjB,QAAQhD,EACnBC,EAAIgE,EAAOjB,QAAQ/C,EACnBiE,EAAevC,EAAW3B,EAAEC,EAAE2B,GAC9BuC,EAAW1D,EAAMyD,GACvB,OAAOC,EACX,KAAKtE,EACD,OAAO,2BAAI+B,GAAX,IAAkBhB,KAAMqD,EAAOjB,QAAQpC,OAC3C,QACI,OAAOgB,M,QKxBJwC,EAFDC,sBAAYN,EAAaO,iCCGvCC,IAASC,OACL,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACI,cAAC,EAAD,MAENK,SAASC,eAAe,W","file":"static/js/main.98e33f7f.chunk.js","sourcesContent":["\r\n// ACTIONS FIRST PLAYER\r\nexport const STEP_FIRST_PLAYER = 'STEP_FIRST_PLAYER'\r\nexport const ADD_FIRST_NAME = 'ADD_FIRST_NAME'\r\n\r\n// ACTIONS SECOND PLAYER\r\nexport const STEP_SECOND_PLAYER = 'STEP_SECOND_PLAYER'\r\nexport const ADD_SECOND_NAME = 'ADD_SECOND_NAME'\r\n\r\n\r\n\r\n//PLAYERS\r\nexport const FIRST_PLAYER = 'firstPlayer'\r\nexport const SECOND_PLAYER = 'secondPlayer'","import React, {useState} from 'react';\r\nimport {FIRST_PLAYER} from \"../../constants/constant\";\r\n\r\nconst Cell = ({x,y, player , nextStep }) => {\r\n    const [owner, setOwner] = useState('')\r\n\r\n    const assignOwner = ()=>{\r\n        setOwner(player)\r\n        nextStep(x,y,player)\r\n    }\r\n\r\n    if(!owner){\r\n        return (\r\n            <div onClick={assignOwner} className='cell'></div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='cell'>\r\n            {owner === FIRST_PLAYER ? <div className=\"cross\">\r\n                <span className=\"cross__left\"></span>\r\n                <span className=\"cross__right\"></span>\r\n            </div> : <div className=\"zero\">\r\n                <span className=\"zero__ring\"></span>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cell;","export const isWin = (player) => {\r\n    for (let key in player) {\r\n        if (player[key].length === 3 && key !== player.name && key !== player.score) {\r\n            player.score = parseInt(player.score)+ 1\r\n            console.log(player.steps)\r\n            return {\r\n                name: player.name,\r\n                score: player.score,\r\n                topX: [],\r\n                middleX: [],\r\n                bottomX: [],\r\n                leftY: [],\r\n                middleY: [],\r\n                rightY: [],\r\n                leftDiagonal: [],\r\n                rightDiagonal: [],\r\n                win: key,\r\n            }\r\n        }\r\n    }\r\n    return player\r\n}","export const whereClick = (x, y, state) => {\r\n    // X\r\n    if (x === 0) {\r\n        state.topX.push(x)\r\n    }\r\n    if (x === 1) {\r\n        state.middleX.push(x);\r\n    }\r\n    if (x === 2) {\r\n        state.bottomX.push(x);\r\n    }\r\n    // Y\r\n    if (y === 0) {\r\n        state.leftY.push(y);\r\n    }\r\n    if (y === 1) {\r\n        state.middleY.push(y);\r\n    }\r\n    if (y === 2) {\r\n        state.rightY.push(y);\r\n    }\r\n    if ((x === 0 && y === 0) || (x === 1 && y === 1) || (x === 2 && y === 2)) {\r\n        state.leftDiagonal.push(\"x\");\r\n    }\r\n\r\n    if ((x === 0 && y === 2) || (x === 1 && y === 1) || (x === 2 && y === 0)) {\r\n        state.rightDiagonal.push(\"x\");\r\n    }\r\n    return state\r\n}","import {STEP_FIRST_PLAYER, ADD_FIRST_NAME} from \"../../constants/constant\";\r\nimport {isWin} from \"./isWin\";\r\nimport {whereClick} from \"./whereClick\";\r\n\r\nconst score = localStorage.getItem('firstPlayerScore')\r\nconst name = localStorage.getItem('firstPlayerName')\r\nconst defaultState = {\r\n    name: name || 'X',\r\n    score: score || 0,\r\n    topX: [],\r\n    middleX: [],\r\n    bottomX: [],\r\n    leftY: [],\r\n    middleY: [],\r\n    rightY: [],\r\n    leftDiagonal: [],\r\n    rightDiagonal: [],\r\n    steps:0\r\n};\r\n\r\nexport const firstPlayerReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case STEP_FIRST_PLAYER:\r\n            state.steps = state.steps + 1\r\n            const x = action.payload.x\r\n            const y = action.payload.y\r\n            const updatedState = whereClick(x, y, state)\r\n            const newState = isWin(updatedState);\r\n            return newState\r\n        case ADD_FIRST_NAME:\r\n            return {...state, name: action.payload.name}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const firstPlayerStepAction = (payload) => ({type: STEP_FIRST_PLAYER, payload})\r\nexport const addFirstNameAction = (payload) => ({type: ADD_FIRST_NAME, payload})","import {STEP_SECOND_PLAYER, ADD_SECOND_NAME} from \"../../constants/constant\";\r\nimport {whereClick} from \"./whereClick\";\r\nimport {isWin} from \"./isWin\";\r\n\r\nconst score = localStorage.getItem('secondPlayerScore')\r\nconst name = localStorage.getItem('secondPlayerName')\r\nconst defaultState = {\r\n    name: name || 'O',\r\n    score: score || 0,\r\n    topX: [],\r\n    middleX: [],\r\n    bottomX: [],\r\n    leftY: [],\r\n    middleY: [],\r\n    rightY: [],\r\n    leftDiagonal: [],\r\n    rightDiagonal: []\r\n};\r\n\r\nexport const secondPlayerReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case STEP_SECOND_PLAYER:\r\n            const x = action.payload.x\r\n            const y = action.payload.y\r\n            const updatedState = whereClick(x,y,state)\r\n            const newState = isWin(updatedState);\r\n            return newState\r\n        case ADD_SECOND_NAME:\r\n            return {...state, name: action.payload.name}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const secondPlayerStepAction = (payload) => ({type: STEP_SECOND_PLAYER, payload})\r\nexport const addSecondNameAction = (payload) => ({type: ADD_SECOND_NAME, payload})\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport Cell from \"./Cell\";\r\nimport {FIRST_PLAYER, SECOND_PLAYER} from \"../../constants/constant\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addFirstNameAction, firstPlayerStepAction} from \"../../redux/reducers/firstPlayerReducer\";\r\nimport {addSecondNameAction, secondPlayerStepAction} from \"../../redux/reducers/secondPlayerReducer\";\r\n\r\nconst GameField = () => {\r\n    const [player, setPlayer] = useState(FIRST_PLAYER)\r\n    const [steps, setSteps] = useState(0)\r\n    const dispatch = useDispatch()\r\n    const gameField = [\r\n        ['', '', ''],\r\n        ['', '', ''],\r\n        ['', '', '']\r\n    ]\r\n\r\n\r\n    const firstPlayer = useSelector(state => state.firstPlayer)\r\n    const secondPlayer = useSelector(state => state.secondPlayer)\r\n\r\n    if (firstPlayer.win || secondPlayer.win) {\r\n        window.location.reload()\r\n        localStorage.setItem('firstPlayerScore', firstPlayer.score)\r\n        localStorage.setItem('secondPlayerScore', secondPlayer.score)\r\n    }\r\n\r\n\r\n    const nexStep = (x, y, currentPlayer) => {\r\n        if (currentPlayer === FIRST_PLAYER) {\r\n            dispatch(firstPlayerStepAction({x, y}))\r\n            setPlayer(SECOND_PLAYER)\r\n        } else {\r\n            dispatch(secondPlayerStepAction({x, y}))\r\n            setPlayer(FIRST_PLAYER)\r\n        }\r\n        setSteps(steps+1)\r\n    }\r\n\r\n    if(steps === 9 && !firstPlayer.win && !secondPlayer.win){\r\n        window.location.reload()\r\n        alert('Ничья!')\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const name = localStorage.getItem('firstPlayerScore')\r\n        if(!name){\r\n            const firstName = prompt('Введите имя первого игрока:')\r\n            const secondName = prompt('Введите имя второго игрока:')\r\n            localStorage.setItem('firstPlayerName',firstName)\r\n            localStorage.setItem('secondPlayerName',secondName)\r\n            dispatch(addFirstNameAction({name: firstName || 'X'}))\r\n            dispatch(addSecondNameAction({name: secondName || 'O'}))\r\n        }\r\n    }, [dispatch])\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className='game-field'>\r\n                {gameField.map((_, x) => {\r\n                    return _.map((_, y) => {\r\n                        return <Cell key={x + '' + y} player={player} nextStep={nexStep} x={x} y={y}/>\r\n                    })\r\n                })}\r\n                <span className=\"border-top\"></span>\r\n                <span className=\"border-left\"></span>\r\n                <span className=\"border-right\"></span>\r\n                <span className=\"border-bottom\"></span>\r\n                <span className={`win ${firstPlayer.win} ${secondPlayer.win}`}/>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GameField;","import React, {useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst Score = () => {\r\n    const [reset, setReset] = useState(true)\r\n    const firstPlayer = useSelector(state=> state.firstPlayer)\r\n    const secondPlayer = useSelector(state=> state.secondPlayer)\r\n\r\n    const resetScore = () =>{\r\n        if(reset){\r\n            setReset(false)\r\n        } else {\r\n            setReset(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='score'>\r\n            <h2 onClick={resetScore} className=\"score__title\">Score</h2>\r\n            <div className=\"first-player\">\r\n                <h3 className=\"first-player__score\">{firstPlayer.name}: {firstPlayer.score}</h3>\r\n            </div>\r\n            <div className=\"second-player\">\r\n                <h3 className=\"second-player__score\">{secondPlayer.name}: {secondPlayer.score}</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Score;","import React from 'react';\r\nimport GameField from \"./components/game-field/GameField\";\r\nimport Score from \"./components/score/Score\";\r\n\r\nconst GameWrapper = () => {\r\n    const resetScore = () =>{\r\n        window.location.reload()\r\n        localStorage.clear()\r\n    }\r\n    return (\r\n        <>\r\n            <button onClick={resetScore}>Reset Score</button>\r\n            <div className='container'>\r\n                <GameField/>\r\n                <Score/>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GameWrapper;","import {firstPlayerReducer} from \"./firstPlayerReducer\";\r\nimport {secondPlayerReducer} from \"./secondPlayerReducer\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nconst rootReducer = combineReducers({\r\n    firstPlayer: firstPlayerReducer,\r\n    secondPlayer: secondPlayerReducer\r\n})\r\n\r\nexport default rootReducer","import {createStore} from \"redux\";\r\nimport rootReducer from './reducers/rootReducer'\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools())\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css'\nimport GameWrapper from \"./GameWrapper\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <GameWrapper />\n    </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}