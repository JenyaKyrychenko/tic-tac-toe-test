(this["webpackJsonpiteam-test"]=this["webpackJsonpiteam-test"]||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a(6),o=a.n(n),r=(a(15),a(3)),c="STEP_FIRST_PLAYER",s="ADD_FIRST_NAME",i="STEP_SECOND_PLAYER",d="ADD_SECOND_NAME",g="firstPlayer",m=a(1),h=function(e){var t=e.x,a=e.y,n=e.player,o=e.nextStep,c=Object(l.useState)(""),s=Object(r.a)(c,2),i=s[0],d=s[1];return i?Object(m.jsx)("div",{className:"cell",children:i===g?Object(m.jsxs)("div",{className:"cross",children:[Object(m.jsx)("span",{className:"cross__left"}),Object(m.jsx)("span",{className:"cross__right"})]}):Object(m.jsx)("div",{className:"zero",children:Object(m.jsx)("span",{className:"zero__ring"})})}):Object(m.jsx)("div",{onClick:function(){d(n),o(t,a,n)},className:"cell"})},j=a(2),b=a(4),u=function(e){for(var t in e)if(3===e[t].length&&t!==e.name&&t!==e.score)return e.score=parseInt(e.score)+1,console.log(e.steps),{name:e.name,score:e.score,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[],win:t};return e},p=function(e,t,a){return 0===e&&a.topX.push("x"),1===e&&a.middleX.push("x"),2===e&&a.bottomX.push("x"),0===t&&a.leftY.push("x"),1===t&&a.middleY.push("x"),2===t&&a.rightY.push("x"),(0===e&&0===t||1===e&&1===t||2===e&&2===t)&&a.leftDiagonal.push("x"),(0===e&&2===t||1===e&&1===t||2===e&&0===t)&&a.rightDiagonal.push("x"),a},f=function(e){2===e.topX.length&&1===e.middleX.length&&1===e.bottomX.length&&2===e.leftY.length&&1===e.middleY.length&&1===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!")),2===e.topX.length&&1===e.middleX.length&&1===e.bottomX.length&&1===e.leftY.length&&1===e.middleY.length&&2===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!")),1===e.topX.length&&1===e.middleX.length&&2===e.bottomX.length&&2===e.leftY.length&&1===e.middleY.length&&1===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!")),1===e.topX.length&&1===e.middleX.length&&2===e.bottomX.length&&1===e.leftY.length&&1===e.middleY.length&&2===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!"))},O=localStorage.getItem("firstPlayerScore"),y={name:localStorage.getItem("firstPlayerName")||"X",score:O||0,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[]},x=localStorage.getItem("secondPlayerScore"),S={name:localStorage.getItem("secondPlayerName")||"O",score:x||0,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[]},N=function(e){var t=e.gameField,a=Object(j.b)(),n=Object(l.useState)(g),o=Object(r.a)(n,2),b=o[0],u=o[1],p=Object(l.useState)(0),f=Object(r.a)(p,2),O=f[0],y=f[1],x=Object(j.c)((function(e){return e.firstPlayer})),S=Object(j.c)((function(e){return e.secondPlayer}));(x.win||S.win)&&(window.location.reload(),localStorage.setItem("firstPlayerScore",x.score),localStorage.setItem("secondPlayerScore",S.score));var N=function(e,t,l){l===g?(a({type:c,payload:{x:e,y:t}}),u("secondPlayer")):(a(function(e){return{type:i,payload:e}}({x:e,y:t})),u(g)),y(O+1)};return 9!==O||x.win||S.win||(window.location.reload(),localStorage.setItem("firstPlayerScore",x.score),localStorage.setItem("secondPlayerScore",S.score),alert("\u041d\u0438\u0447\u044c\u044f!")),Object(l.useEffect)((function(){if(!localStorage.getItem("firstPlayerScore")){var e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430:"),t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430:");localStorage.setItem("firstPlayerName",e),localStorage.setItem("secondPlayerName",t),a({type:s,payload:{name:e||"X"}}),a(function(e){return{type:d,payload:e}}({name:t||"O"}))}}),[a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"game-field",children:[t.map((function(e,t){return e.map((function(e,a){return Object(m.jsx)(h,{player:b,nextStep:N,x:t,y:a},t+""+a)}))})),Object(m.jsx)("span",{className:"border-top"}),Object(m.jsx)("span",{className:"border-left"}),Object(m.jsx)("span",{className:"border-right"}),Object(m.jsx)("span",{className:"border-bottom"}),Object(m.jsx)("span",{className:"win ".concat(x.win," ").concat(S.win)})]})})},w=function(){var e=Object(l.useState)(!0),t=Object(r.a)(e,2),a=t[0],n=t[1],o=Object(j.c)((function(e){return e.firstPlayer})),c=Object(j.c)((function(e){return e.secondPlayer}));return Object(m.jsxs)("div",{className:"score",children:[Object(m.jsx)("h2",{onClick:function(){n(!a)},className:"score__title",children:"Score"}),Object(m.jsx)("div",{className:"first-player",children:Object(m.jsxs)("h3",{className:"first-player__score",children:[o.name,": ",o.score]})}),Object(m.jsx)("div",{className:"second-player",children:Object(m.jsxs)("h3",{className:"second-player__score",children:[c.name,": ",c.score]})})]})},X=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){window.location.reload(),localStorage.clear()},children:"Reset Score"}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(N,{gameField:[["","",""],["","",""],["","",""]]}),Object(m.jsx)(w,{})]})]})},Y=a(5),v=Object(Y.combineReducers)({firstPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var a=p(t.payload.x,t.payload.y,e),l=u(a);return f(l),l;case s:return Object(b.a)(Object(b.a)({},e),{},{name:t.payload.name});default:return e}},secondPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var a=p(t.payload.x,t.payload.y,e),l=u(a);return l;case d:return Object(b.a)(Object(b.a)({},e),{},{name:t.payload.name});default:return e}}}),D=a(10),P=Object(Y.createStore)(v,Object(D.composeWithDevTools)());o.a.render(Object(m.jsx)(j.a,{store:P,children:Object(m.jsx)(X,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.657f8f35.chunk.js.map