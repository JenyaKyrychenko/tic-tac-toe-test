(this["webpackJsonpiteam-test"]=this["webpackJsonpiteam-test"]||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(6),n=a.n(r),o=(a(15),a(3)),l="STEP_FIRST_PLAYER",s="ADD_FIRST_NAME",i="STEP_SECOND_PLAYER",d="ADD_SECOND_NAME",m="firstPlayer",j=a(1),g=function(e){var t=e.x,a=e.y,r=e.player,n=e.nextStep,l=Object(c.useState)(""),s=Object(o.a)(l,2),i=s[0],d=s[1];return i?Object(j.jsx)("div",{className:"cell",children:i===m?Object(j.jsxs)("div",{className:"cross",children:[Object(j.jsx)("span",{className:"cross__left"}),Object(j.jsx)("span",{className:"cross__right"})]}):Object(j.jsx)("div",{className:"zero",children:Object(j.jsx)("span",{className:"zero__ring"})})}):Object(j.jsx)("div",{onClick:function(){d(r),n(t,a,r)},className:"cell"})},h=a(2),b=a(4),u=function(e){for(var t in e)if(3===e[t].length&&t!==e.name&&t!==e.score)return e.score=parseInt(e.score)+1,console.log(e.steps),{name:e.name,score:e.score,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[],win:t};return e},p=function(e,t,a){return 0===e&&a.topX.push("x"),1===e&&a.middleX.push("x"),2===e&&a.bottomX.push("x"),0===t&&a.leftY.push("x"),1===t&&a.middleY.push("x"),2===t&&a.rightY.push("x"),(0===e&&0===t||1===e&&1===t||2===e&&2===t)&&a.leftDiagonal.push("x"),(0===e&&2===t||1===e&&1===t||2===e&&0===t)&&a.rightDiagonal.push("x"),a},f=function(e){2===e.topX.length&&1===e.middleX.length&&1===e.bottomX.length&&2===e.leftY.length&&1===e.middleY.length&&1===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!")),2===e.topX.length&&1===e.middleX.length&&1===e.bottomX.length&&1===e.leftY.length&&1===e.middleY.length&&2===e.rightY.length&&1===e.leftDiagonal.length&&1===e.rightDiagonal.length&&(window.location.reload(),alert("\u041d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0431\u0435\u0434\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432!"))},O=localStorage.getItem("firstPlayerScore"),y={name:localStorage.getItem("firstPlayerName")||"X",score:O||0,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[]},x=localStorage.getItem("secondPlayerScore"),S={name:localStorage.getItem("secondPlayerName")||"O",score:x||0,topX:[],middleX:[],bottomX:[],leftY:[],middleY:[],rightY:[],leftDiagonal:[],rightDiagonal:[]},N=function(){var e=Object(c.useState)(m),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(0),b=Object(o.a)(n,2),u=b[0],p=b[1],f=Object(h.b)(),O=Object(h.c)((function(e){return e.firstPlayer})),y=Object(h.c)((function(e){return e.secondPlayer}));(O.win||y.win)&&(window.location.reload(),localStorage.setItem("firstPlayerScore",O.score),localStorage.setItem("secondPlayerScore",y.score));var x=function(e,t,a){a===m?(f({type:l,payload:{x:e,y:t}}),r("secondPlayer")):(f(function(e){return{type:i,payload:e}}({x:e,y:t})),r(m)),p(u+1)};return 9!==u||O.win||y.win||(window.location.reload(),localStorage.setItem("firstPlayerScore",O.score),localStorage.setItem("secondPlayerScore",y.score),alert("\u041d\u0438\u0447\u044c\u044f!")),Object(c.useEffect)((function(){if(!localStorage.getItem("firstPlayerScore")){var e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430:"),t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430:");localStorage.setItem("firstPlayerName",e),localStorage.setItem("secondPlayerName",t),f({type:s,payload:{name:e||"X"}}),f(function(e){return{type:d,payload:e}}({name:t||"O"}))}}),[f]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"game-field",children:[[["","",""],["","",""],["","",""]].map((function(e,t){return e.map((function(e,c){return Object(j.jsx)(g,{player:a,nextStep:x,x:t,y:c},t+""+c)}))})),Object(j.jsx)("span",{className:"border-top"}),Object(j.jsx)("span",{className:"border-left"}),Object(j.jsx)("span",{className:"border-right"}),Object(j.jsx)("span",{className:"border-bottom"}),Object(j.jsx)("span",{className:"win ".concat(O.win," ").concat(y.win)})]})})},v=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(h.c)((function(e){return e.firstPlayer})),l=Object(h.c)((function(e){return e.secondPlayer}));return Object(j.jsxs)("div",{className:"score",children:[Object(j.jsx)("h2",{onClick:function(){r(!a)},className:"score__title",children:"Score"}),Object(j.jsx)("div",{className:"first-player",children:Object(j.jsxs)("h3",{className:"first-player__score",children:[n.name,": ",n.score]})}),Object(j.jsx)("div",{className:"second-player",children:Object(j.jsxs)("h3",{className:"second-player__score",children:[l.name,": ",l.score]})})]})},P=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){window.location.reload(),localStorage.clear()},children:"Reset Score"}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(N,{}),Object(j.jsx)(v,{})]})]})},w=a(5),X=Object(w.combineReducers)({firstPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var a=p(t.payload.x,t.payload.y,e),c=u(a);return f(c),c;case s:return Object(b.a)(Object(b.a)({},e),{},{name:t.payload.name});default:return e}},secondPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var a=p(t.payload.x,t.payload.y,e),c=u(a);return c;case d:return Object(b.a)(Object(b.a)({},e),{},{name:t.payload.name});default:return e}}}),Y=a(10),_=Object(w.createStore)(X,Object(Y.composeWithDevTools)());n.a.render(Object(j.jsx)(h.a,{store:_,children:Object(j.jsx)(P,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.5aa53468.chunk.js.map